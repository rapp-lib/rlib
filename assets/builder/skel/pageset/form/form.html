{{if $forms.entry->getErrors()}}
    <div class="errmsg">※入力エラーがあります</div>
    {{*
    {{foreach $forms.entry->getErrors() as $error}}
        <p class="errmsg">{{$forms.entry->getFieldLabel($error["field_name"])}} : {{$error["message"]}}</p>
    {{/foreach}}
    *}}
    {{code type="js" required=["jquery:*","app.show-errors"]}}
        $(function(){
            showErrors({
                errors: {{$forms.entry->getErrors()|json_encode}},
                $form: $("form.form-entry")
            });
        });
    {{/code}}
{{/if}}

{{form action='.'|page_to_url enctype="multipart/form-data" method="post" form=$forms.entry class="form-entry"}}
<?php if ($controller->getAttr("type")==="master"): ?>
{{input name="id" type="hidden"}}
<?php endif; ?>
<table class="tbl_admin detail">
<?php foreach ($controller->getInputCols() as $col): ?>
    <tr>
        <th><?=$col->getLabel()?></th>
        <td class="inputBlock"><?=$col->getInputSource()?></td>
    </tr>
<?php endforeach; /* foreach as $col */ ?>
</table>
<div class="ad_btn">
    <a href='{{"<?=$pageset->getBackPage()->getFullPage($page)?>"|page_to_url:["back"=>1]}}' class="rBtn">戻る</a>
    <a href="javascript:void(0);" onclick="$(this).parents('form').trigger('submit');" class="sBtn">確認</a>
</div>
{{/form}}